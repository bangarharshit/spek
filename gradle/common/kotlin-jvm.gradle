apply plugin: 'kotlin-platform-jvm'

dependencies {
    compile 'org.jetbrains.kotlin:kotlin-stdlib-jre8'
    implementation 'org.jetbrains.kotlin:kotlin-reflect'

    testImplementation 'com.natpryce:hamkrest'
}

tasks.withType(Jar) { task ->
    task.manifest {
        attributes \
            'Implementation-Title': 'Spek', \
            'Implementation-Version': rootProject.version, \
            'Implementation-Kotlin-Version': kotlinVersion, \
            'Build-Time': System.getenv("TEAMCITY_VERSION") ? new Date().format('yyyy-MM-dd\'T\'HH:mm:ssZ') : new Date(0).format('yyyy-MM-dd\'T\'HH:mm:ssZ')
    }
}
